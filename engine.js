let test_case = [
    {
        "h1": ["First Title"],
        "p": [
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras facilisis porta vehicula. Aenean eleifend elit vel justo accumsan feugiat. Ut eget risus ac est suscipit tempor quis sed mi. Aliquam erat volutpat. Curabitur fringilla nibh libero, vel porta libero consequat nec. Donec eu pretium ipsum. Proin cursus ipsum vel sem suscipit mattis. Nam sit amet mi id sem aliquam rutrum ut nec dui. Donec congue sollicitudin metus, eget egestas mi aliquet ac. Nullam eget porttitor est. Integer sed odio nulla. Sed imperdiet vel sapien a feugiat. Curabitur pellentesque turpis eu ipsum ornare, in ornare eros dignissim. Nunc et nunc tempus, tempor enim at, semper purus. Praesent accumsan pulvinar libero, eleifend laoreet ipsum tincidunt sit amet. ",
            "Nunc pellentesque mi magna, non porttitor arcu varius sed. Mauris nulla nunc, placerat pulvinar nibh vel, consequat iaculis nisi. In non efficitur turpis, a convallis odio. Vivamus efficitur dignissim ornare. In facilisis eu massa in semper. Donec nec erat sed leo vestibulum porttitor. Donec aliquam odio at felis porta, ut mattis eros suscipit. Nunc fermentum eros quis magna congue, eget condimentum dui condimentum. Praesent viverra purus odio, ut ornare ex blandit eget. Sed viverra metus quis erat mollis accumsan. Pellentesque eu dui ante. Cras eu nunc quis libero suscipit imperdiet vel malesuada lectus. Suspendisse ultricies nisi id bibendum molestie. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; ",
            "Integer nec urna imperdiet, bibendum augue ac, vulputate felis. Nam a rutrum enim. Praesent fringilla ipsum felis, eu porta ligula molestie interdum. Phasellus condimentum et diam ut laoreet. Mauris dignissim id nisi sit amet consectetur. Quisque eget ullamcorper urna. Donec nec mauris ut nisi euismod sollicitudin. Pellentesque at tempus justo. Nunc dui erat, efficitur id est eget, ornare gravida arcu. In a tellus id elit aliquam scelerisque eget non dui. Integer dolor lacus, facilisis eget risus ac, tempor mattis felis. Nulla massa ante, luctus ut est finibus, iaculis vehicula neque. Phasellus enim felis, maximus a neque nec, facilisis ullamcorper tellus. Aliquam mollis nec lectus non varius. "
        ],
        "img": ["https://static01.nyt.com/images/2021/09/14/science/07CAT-STRIPES/07CAT-STRIPES-mediumSquareAt3X-v2.jpg"],
    },
    {
        "h1": ["Second Title"],
        "p": [
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras facilisis porta vehicula. Aenean eleifend elit vel justo accumsan feugiat. Ut eget risus ac est suscipit tempor quis sed mi. Aliquam erat volutpat. Curabitur fringilla nibh libero, vel porta libero consequat nec. Donec eu pretium ipsum. Proin cursus ipsum vel sem suscipit mattis. Nam sit amet mi id sem aliquam rutrum ut nec dui. Donec congue sollicitudin metus, eget egestas mi aliquet ac. Nullam eget porttitor est. Integer sed odio nulla. Sed imperdiet vel sapien a feugiat. Curabitur pellentesque turpis eu ipsum ornare, in ornare eros dignissim. Nunc et nunc tempus, tempor enim at, semper purus. Praesent accumsan pulvinar libero, eleifend laoreet ipsum tincidunt sit amet. ",
            "Nunc pellentesque mi magna, non porttitor arcu varius sed. Mauris nulla nunc, placerat pulvinar nibh vel, consequat iaculis nisi. In non efficitur turpis, a convallis odio. Vivamus efficitur dignissim ornare. In facilisis eu massa in semper. Donec nec erat sed leo vestibulum porttitor. Donec aliquam odio at felis porta, ut mattis eros suscipit. Nunc fermentum eros quis magna congue, eget condimentum dui condimentum. Praesent viverra purus odio, ut ornare ex blandit eget. Sed viverra metus quis erat mollis accumsan. Pellentesque eu dui ante. Cras eu nunc quis libero suscipit imperdiet vel malesuada lectus. Suspendisse ultricies nisi id bibendum molestie. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; ",
            "Integer nec urna imperdiet, bibendum augue ac, vulputate felis. Nam a rutrum enim. Praesent fringilla ipsum felis, eu porta ligula molestie interdum. Phasellus condimentum et diam ut laoreet. Mauris dignissim id nisi sit amet consectetur. Quisque eget ullamcorper urna. Donec nec mauris ut nisi euismod sollicitudin. Pellentesque at tempus justo. Nunc dui erat, efficitur id est eget, ornare gravida arcu. In a tellus id elit aliquam scelerisque eget non dui. Integer dolor lacus, facilisis eget risus ac, tempor mattis felis. Nulla massa ante, luctus ut est finibus, iaculis vehicula neque. Phasellus enim felis, maximus a neque nec, facilisis ullamcorper tellus. Aliquam mollis nec lectus non varius. "
        ],
        "img": ["https://ychef.files.bbci.co.uk/976x549/p07ryyyj.jpg"],
    },
    {
        "h1": ["Third Title"],
        "p": [
            "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Cras facilisis porta vehicula. Aenean eleifend elit vel justo accumsan feugiat. Ut eget risus ac est suscipit tempor quis sed mi. Aliquam erat volutpat. Curabitur fringilla nibh libero, vel porta libero consequat nec. Donec eu pretium ipsum. Proin cursus ipsum vel sem suscipit mattis. Nam sit amet mi id sem aliquam rutrum ut nec dui. Donec congue sollicitudin metus, eget egestas mi aliquet ac. Nullam eget porttitor est. Integer sed odio nulla. Sed imperdiet vel sapien a feugiat. Curabitur pellentesque turpis eu ipsum ornare, in ornare eros dignissim. Nunc et nunc tempus, tempor enim at, semper purus. Praesent accumsan pulvinar libero, eleifend laoreet ipsum tincidunt sit amet. ",
            "Nunc pellentesque mi magna, non porttitor arcu varius sed. Mauris nulla nunc, placerat pulvinar nibh vel, consequat iaculis nisi. In non efficitur turpis, a convallis odio. Vivamus efficitur dignissim ornare. In facilisis eu massa in semper. Donec nec erat sed leo vestibulum porttitor. Donec aliquam odio at felis porta, ut mattis eros suscipit. Nunc fermentum eros quis magna congue, eget condimentum dui condimentum. Praesent viverra purus odio, ut ornare ex blandit eget. Sed viverra metus quis erat mollis accumsan. Pellentesque eu dui ante. Cras eu nunc quis libero suscipit imperdiet vel malesuada lectus. Suspendisse ultricies nisi id bibendum molestie. Vestibulum ante ipsum primis in faucibus orci luctus et ultrices posuere cubilia curae; ",
            "Integer nec urna imperdiet, bibendum augue ac, vulputate felis. Nam a rutrum enim. Praesent fringilla ipsum felis, eu porta ligula molestie interdum. Phasellus condimentum et diam ut laoreet. Mauris dignissim id nisi sit amet consectetur. Quisque eget ullamcorper urna. Donec nec mauris ut nisi euismod sollicitudin. Pellentesque at tempus justo. Nunc dui erat, efficitur id est eget, ornare gravida arcu. In a tellus id elit aliquam scelerisque eget non dui. Integer dolor lacus, facilisis eget risus ac, tempor mattis felis. Nulla massa ante, luctus ut est finibus, iaculis vehicula neque. Phasellus enim felis, maximus a neque nec, facilisis ullamcorper tellus. Aliquam mollis nec lectus non varius. "
        ],
        "img": ["https://cdn.mos.cms.futurecdn.net/KYEJp9vem3QQFGhi25SYx4-1200-80.jpg"],
    }
];

const skeletonHead = `
    <html>

    <head>
        <title>ClearView</title>
        <link rel="stylesheet" href="./style/page.css">
        <link rel="icon" href="./style/favicon.png">
    </head>

    <body>

    <!--
    <header>
        <h1 id="headerTitle">ClearView</h1>
    <header>
    -->

    <main class="container">
        <h1 id="articleTitle">Page Title</h1>
`;

const skeletonBody = `
    </main>
    
    <footer>
        <p>ClearView Inc. All Rights Reserved</p>
    </footer>
    </body>
    </html>
`;

const insertTags = (section, mode) =>{

    // Takes in a dictionary and returns a string containing HTML Code.

    let result = "";

    for(let tag in section){

        if(tag == "img"){
            result += "<" + tag + " src=\"" + section[tag] + "\">\n";
            continue;
        }

        if(tag == "p"){
            if(mode == "simplify"){
                for(let i = 0; i < section[tag].length; i++){
                    result += "<" + tag + ">" + section[tag][i] + "</" + tag + ">";
                }
            }
            else if(mode == "summarise"){
                result += "<ul>";
                for(let i = 0; i < section[tag].length; i++){
                    result += "<li>"
                    result += "<" + tag + ">" + section[tag][i] + "</" + tag + ">";
                    result += "</li>";
                }
                result += "</ul>";
            }

            continue;
        }

        result += "<" + tag + ">\n";
        result += section[tag];
        result += "\n</" + tag + ">\n";
    }

    return result;
}

const render = (sections, mode) =>{

    // Takes in a list of dictionaries and returns a string containing HTML Code.

    let result = "";

    result += skeletonHead;
    
    for(let i = 0; i < sections.length; i++){
        result += "<section>\n";
        result += insertTags(sections[i], mode);
        result += "\n</section>\n";
    }

    result += skeletonBody;

    return result;
}

// Tests
// insertTags test
let sectionHTML = insertTags(test_case[0])
// console.log(sectionHTML);

// Render test
let simplifiedPage = render(test_case, "simplify");
let summarisedPage = render(test_case, "summarise");
// console.log(summarisedPage);
